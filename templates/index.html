{% extends "with-sidebar.html" %}

{% block content %}

	{% for article in articles_page.object_list %}
		
		<div class="panel panel-info">

			<!--标题-->
			<div class="panel-heading">
				<h3 class="panel-title index-article-head">
					{{ article.title }}
					<span>
							{{ article.locale_date }}
							<a href="{{ SITEURL }}/category/{{ article.category }}">{{ article.category }}</a>
					</span>
				</h3>
			</div>

			<!--内容-->
			<div class="panel-body">
				<section class="post-content">
					{% if SHOW_FULL_ARTICLE %}
						{{ article.content }}
					{% else %}
						{{ article.summary|truncate(280)|prettify }}
					{% endif %}
					<a href="{{ SITEURL }}/{{ article.url }}" class="btn btn-primary btn-md">Read More</a>
				</section>
			</div>

		</div>
            
		<!--每篇文章后一个分割线-->
		{% if not loop.last %}
		<hr>
		{% endif %}
        
	{% endfor %}


	<!--底部分页导航-->
	{% if DEFAULT_PAGINATION %}
		{% if articles_page and articles_paginator.num_pages > 1 %}
			<nav style="text-align: center">
				<ul class="pagination">
					<!--上一页-->
					{% if articles_page.has_previous() %}
						{% set num = articles_page.previous_page_number() %}
						<li>
							<a href="{{ SITEURL }}/{{ page_name }}{{ num if num > 1 else '' }}.html">
								<span>&laquo;</span>
							</a>
						</li>
					{% else %}
						<li class="disabled">
							<a href="#">
								<span>&laquo;</span>
							</a>
						</li>
					{% endif %}

					{% for num in range( 1, 1 + articles_paginator.num_pages ) %}
						<li class="{{ 'active' if num == articles_page.number else '' }}"><a href="{{ SITEURL }}/{{ page_name }}{{ num if num > 1 else '' }}.html">{{ num }}</a></li>
					{% endfor %}

					<!--下一页-->
					{% if articles_page.has_next() %}
						<li>
							<a href="{{ SITEURL }}/{{ page_name }}{{ articles_page.next_page_number() }}.html">
								<span>&raquo;</span>
							</a>
						</li>
					{% else %}
						<li class="disabled">
							<a href="#">
								<span>&raquo;</span>
							</a>
						</li>
					{% endif %}
				</ul>

			</nav>
		{% endif %}
	{% endif %}


{% endblock content %}